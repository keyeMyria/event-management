(function(){var t,i,o;t=window.jQuery,o=t(window),i=t(document),t.fn.stick_in_parent=function(e){var s,r,n,l,a,c,p,d,u,f,g,h,k,y;for(null==e&&(e={}),k=e.sticky_class,c=e.inner_scrolling,h=e.recalc_every,g=e.parent,u=e.offset_top,d=e.spacer,n=e.bottoming,y=o.height(),s=i.height(),null==u&&(u=0),null==g&&(g=void 0),null==c&&(c=!0),null==k&&(k="is_stuck"),null==n&&(n=!0),f=function(t){var i,o,e;return window.getComputedStyle?(i=t[0],o=window.getComputedStyle(t[0]),e=parseFloat(o.getPropertyValue("width"))+parseFloat(o.getPropertyValue("margin-left"))+parseFloat(o.getPropertyValue("margin-right")),"border-box"!==o.getPropertyValue("box-sizing")&&(e+=parseFloat(o.getPropertyValue("border-left-width"))+parseFloat(o.getPropertyValue("border-right-width"))+parseFloat(o.getPropertyValue("padding-left"))+parseFloat(o.getPropertyValue("padding-right"))),e):t.outerWidth(!0)},l=function(e,r,l,a,p,m,v,b){var w,_,x,P,V,F,C,z,I,A,M,S;if(!e.data("sticky_kit")){if(e.data("sticky_kit",!0),V=s,C=e.parent(),null!=g&&(C=C.closest(g)),!C.length)throw"failed to find stick parent";if(x=!1,w=!1,M=null!=d?d&&e.closest(d):t("<div />"),M&&M.css("position",e.css("position")),z=function(){var t,n,c;if(!b)return y=o.height(),s=i.height(),V=s,t=parseInt(C.css("border-top-width"),10),n=parseInt(C.css("padding-top"),10),r=parseInt(C.css("padding-bottom"),10),l=C.offset().top+t+n,a=C.height(),x&&(x=!1,w=!1,null==d&&(e.insertAfter(M),M.detach()),e.css({position:"",top:"",width:"",bottom:""}).removeClass(k),c=!0),p=e.offset().top-(parseInt(e.css("margin-top"),10)||0)-u,m=e.outerHeight(!0),v=e.css("float"),M&&M.css({width:f(e),height:m,display:e.css("display"),"vertical-align":e.css("vertical-align"),"float":v}),c?S():void 0},z(),m!==a)return P=void 0,F=u,A=h,S=function(){var t,i,f,g,_;if(!b)return f=!1,null!=A&&(A-=1,0>=A&&(A=h,z(),f=!0)),f||s===V||(z(),f=!0),g=o.scrollTop(),null!=P&&(i=g-P),P=g,x?(n&&(_=g+m+F>a+l,w&&!_&&(w=!1,e.css({position:"fixed",bottom:"",top:F}).trigger("sticky_kit:unbottom"))),p>g&&(x=!1,F=u,null==d&&(("left"===v||"right"===v)&&e.insertAfter(M),M.detach()),t={position:"",width:"",top:""},e.css(t).removeClass(k).trigger("sticky_kit:unstick")),c&&m+u>y&&(w||(F-=i,F=Math.max(y-m,F),F=Math.min(u,F),x&&e.css({top:F+"px"})))):g>p&&(x=!0,t={position:"fixed",top:F},t.width="border-box"===e.css("box-sizing")?e.outerWidth()+"px":e.width()+"px",e.css(t).addClass(k),null==d&&(e.after(M),("left"===v||"right"===v)&&M.append(e)),e.trigger("sticky_kit:stick")),x&&n&&(null==_&&(_=g+m+F>a+l),!w&&_)?(w=!0,"static"===C.css("position")&&C.css({position:"relative"}),e.css({position:"absolute",bottom:r,top:"auto"}).trigger("sticky_kit:bottom")):void 0},I=function(){return z(),S()},_=function(){return b=!0,o.off("touchmove",S),o.off("scroll",S),o.off("resize",I),t(document.body).off("sticky_kit:recalc",I),e.off("sticky_kit:detach",_),e.removeData("sticky_kit"),e.css({position:"",bottom:"",top:"",width:""}),C.position("position",""),x?(null==d&&(("left"===v||"right"===v)&&e.insertAfter(M),M.remove()),e.removeClass(k)):void 0},o.on("touchmove",S),o.on("scroll",S),o.on("resize",I),t(document.body).on("sticky_kit:recalc",I),e.on("sticky_kit:detach",_),setTimeout(S,0)}},a=0,p=this.length;p>a;a++)r=this[a],l(t(r));return this}}).call(this);
